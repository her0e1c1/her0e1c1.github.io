=============
 Gauche To C
=============

  /* memset で初期化するのは0と1のみと考えるべき */
  printf("Using memset\n");
  // Initialize with memset
  int a3[10][10];

Declare


.. code-block:: sh

    $ ce 'int a[10];'
    



.. code-block:: sh

    $ ce 'static int a[10];'
    

Initialize a 2D array


.. code-block:: sh

    $ ce 'int a[10][10]={10}; p("%d", a[0][0]);'
    10

Initialize a 2D array


.. code-block:: sh

    $ ce 'int a[10][10]={{ 0 }}; p("%d", a[0][0]);'
    0

valc. so you can allocate memroy dynamically even if it is an array


.. code-block:: sh

    $ ce 'int k=10; int a[k];'
    



.. code-block:: sh

    $ ce 'int k=10;static int a[k];'
    <stdin>:38:25: error: variable length array declaration can not have 'static' storage duration
        int k=10;static int a[k];
                            ^ ~
    1 error generated.
    

  // Fill 0
  memset(a3, 0, sizeof(a3));
  printf("a3[0][0]: %d (= 0)\n", a3[0][0]);
  // Fill -1
  memset(a3, -1, sizeof(a3));
  printf("a3[0][0]: %d (= -1)\n", a3[0][0]);
  // Don't work because memset fills 10 at each byte
  memset(a3, 10, sizeof(a3));
  printf("a3[0][0]: %d (!= 10)\n", a3[0][0]);
