
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>binary-search &mdash; Hiroyuki Ishii</title>
    
    <link rel="stylesheet" href="../../../static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../static/bootswatch-3.3.4/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../static/jquery.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Hiroyuki Ishii" href="../../../index.html" />
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67799795-2', 'auto');
    ga('send', 'pageview');
  </script>


  </head>
  <body role="document">

<div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
  <div class="container">

    
    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../../index.html">
        Hiroyuki Ishii</a>
      <span class="navbar-text navbar-version pull-left"><b></b></span>
    </div>

    
    <div class="collapse navbar-collapse nav-collapse">
      <ul class="nav navbar-nav">
        
            <li><a href="../../../products.html">Products</a></li>
            <li><a href="../../index.html">Snippets</a></li>
            <li><a href="../../../about_me.html">About Me</a></li>
        
      </ul>
      
        

      
    </div>

  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="binary-search">
<h1><a class="toc-backref" href="#id3">binary-search</a><a class="headerlink" href="#binary-search" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#binary-search" id="id3">binary-search</a><ul>
<li><a class="reference internal" href="#findsqrtn-scm" id="id4">findSqrtN.scm</a></li>
<li><a class="reference internal" href="#index-scm" id="id5">index.scm</a></li>
<li><a class="reference internal" href="#id2" id="id6">ビット演算でのイメージ</a></li>
<li><a class="reference internal" href="#rotate-scm" id="id7">rotate.scm</a></li>
<li><a class="reference internal" href="#zero-scm" id="id8">zero.scm</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="findsqrtn-scm">
<h2><a class="toc-backref" href="#id4">findSqrtN.scm</a><a class="headerlink" href="#findsqrtn-scm" title="Permalink to this headline">¶</a></h2>
<div class="section" id="compute-the-square-root">
<h3>Compute the square root<a class="headerlink" href="#compute-the-square-root" title="Permalink to this headline">¶</a></h3>
<div class="math">
\[\begin{eqnarray}
    n \in N s.t. \max_{x} f(x) = x^2 - n \le 0
\end{eqnarray}\]</div><p>f(x) &lt;= 0の場合に、+ 2^xを大きい方から累積する。単調増加関数である必要あり</p>
<div class="highlight-gosh"><div class="highlight"><pre>(let* ((n 15241578750190521)
       (f (^x (- (* x x) n)))
       (g (^(a acc)
            (let1 x (+ a acc) (if (&lt;= (f x) 0) x acc)))))
  (print (fold g 0 (map (pa$ expt 2) (reverse (iota 63))))))
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>123456789
</pre></div>
</div>
<div class="highlight-gosh"><div class="highlight"><pre>(print
 (let* ((n 15241578750190521)
        (f (^x (- (* x x) n))))
   (let loop ((low 0) (high (expt 2 63)))
     (if (&gt; low high)
         -1
         (let* ((x (div (+ low high) 2))
                (fx (f x)))
           (cond ((= fx 0) x)
                 ((&lt; fx 0) (loop (+ x 1) high))
                 (else (loop low (- x 1)))))))))
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>123456789
</pre></div>
</div>
</div>
</div>
<div class="section" id="index-scm">
<h2><a class="toc-backref" href="#id5">index.scm</a><a class="headerlink" href="#index-scm" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>基本的な考え方<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="math">
\[\begin{eqnarray}

\\区間[low, high]を探索
\\
\\中点を取る際に、以下の２通りが考えられる(k \ge 0)
\\high & = & low + 2k
\\high & = & low + 2k + 1
\\
\\中点について
\\mid & = & (low + high) / 2
\\より、いずれの場合も、以下となる
\\mid & = & low + k
\\
\\midが解でない場合は、区間を狭める必要がある.
\\midは解ではないので、区間に含めない.
\\
\\以下の範囲に狭めて探索を続ける
\\区間[low, mid - 1] (midよりも左側)
\\区間[mid + 1, high] (else)
\\
\end{eqnarray}\]</div></div>
<div class="section" id="low-high">
<h3>終了条件をlow&lt;highにすることの問題点<a class="headerlink" href="#low-high" title="Permalink to this headline">¶</a></h3>
<p>k=0のとき、以下のいずれかとなる</p>
<ul class="simple">
<li>high = low (探索終了)</li>
<li>high = low + 1 (ループ続ける)</li>
</ul>
<p>しかし、ループを続けても、ともに終了条件となる</p>
<ul class="simple">
<li>[low, low+1] =&gt; [low+1, low+1] (右側探索)</li>
<li>[low, low+1] =&gt; [low, low-1] (左側探索)</li>
</ul>
<p>双方の場合、mid = lowなので、lowの探索はするが、low+1の探索はしない.
つまり、low&lt;highの終了条件の場合、[low, low+1)の範囲しか探索しない.</p>
</div>
<div class="section" id="mid">
<h3>midで更新することの問題点<a class="headerlink" href="#mid" title="Permalink to this headline">¶</a></h3>
<p>k = 0 かつ、終了条件がlow&lt;=high のとき、mid = lowなので、</p>
<p>右側探索で更新する時、mid+1せず、midで更新すると、以下のように無限ループになる.</p>
<ul class="simple">
<li>[low, low]   =&gt; 右側探索 =&gt; [mid, low]   = [low, low]</li>
<li>[low, low+1] =&gt; 右側探索 =&gt; [mid, low+1] = [low, low+1]</li>
</ul>
<p>左側探索で更新する時、mid-1せず、midで更新すると、同様に無限ループになる.</p>
<ul class="simple">
<li>[low, low]   =&gt; 左側探索 =&gt; [low, mid] = [low, low]</li>
<li>[low, low+1] =&gt; 左側探索 =&gt; [low, mid] = [low, low]</li>
</ul>
<p>つまり、解ではないことが判明したmidを区間に含めないように、mid+1, mid-1して区間を狭める必要がある。</p>
</div>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id6">ビット演算でのイメージ</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">f(x)</span> <span class="pre">=</span> <span class="pre">-x^2</span> <span class="pre">+</span> <span class="pre">10*x</span> <span class="pre">+</span> <span class="pre">1</span></code> の <code class="docutils literal"><span class="pre">max</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">N</span> <span class="pre">st</span> <span class="pre">f(x)</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> を考える。
答えは、 <code class="docutils literal"><span class="pre">f(10)</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">f(11)</span> <span class="pre">=</span> <span class="pre">-10</span></code> よりx=10である。</p>
<p><code class="docutils literal"><span class="pre">f(2^4)</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> なので、4乗は境界線を超えている(当然f(2^5)なども、この関数では同様)。
これは、 <code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">16</span></code> と値域が狭まったことを意味している。
2進数で言うと、0b0XXXXと5桁目以降が0bitであることを意味している。</p>
<p><code class="docutils literal"><span class="pre">f(2^3)</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code> なので、 <code class="docutils literal"><span class="pre">8</span> <span class="pre">&lt;=</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">16</span></code> となり、
2進数で言うと、0b01XXXと4桁目が1bitを意味する。</p>
<p><code class="docutils literal"><span class="pre">f(2^3</span> <span class="pre">+</span> <span class="pre">2^2)</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> なので、 <code class="docutils literal"><span class="pre">8</span> <span class="pre">&lt;=</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">12</span></code> となり、 0b010XXとなる。
xは8以上なので、ここで <code class="docutils literal"><span class="pre">f(2^2)</span></code> などを計算することに意味はない。</p>
<p>同様に
<code class="docutils literal"><span class="pre">f(2^3</span> <span class="pre">+</span> <span class="pre">2^1)</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code> なので、 <code class="docutils literal"><span class="pre">10</span> <span class="pre">&lt;=</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">12</span></code> となり、 0b0101Xとなる。</p>
<p><code class="docutils literal"><span class="pre">f(2^3</span> <span class="pre">+</span> <span class="pre">2^1</span> <span class="pre">+</span> <span class="pre">2^0)</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> なので、 <code class="docutils literal"><span class="pre">10</span> <span class="pre">&lt;=</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">11</span></code> となり、 0b01010が答えとなる。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">p</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;f(</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>

<span class="n">p</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>  <span class="c"># f() &lt; 0</span>
<span class="n">p</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>  <span class="c"># f() &lt; 0</span>
<span class="n">p</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c"># f() &gt;= 0</span>
<span class="n">p</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">p</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">p</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<p>アルゴリズムのイメージは、
ジャンプの飛び幅を徐々に小さくしながら目的地に到達するイメージとなる。
つまり、大きい方から範囲を徐々に狭めるイメージ。</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">bit演算の問題点は、負の数には対応できないので、注意すること。</p>
</div>
</div>
<div class="section" id="rotate-scm">
<h2><a class="toc-backref" href="#id7">rotate.scm</a><a class="headerlink" href="#rotate-scm" title="Permalink to this headline">¶</a></h2>
<div class="section" id="k-roteated-increasing-order-array">
<h3>k-roteated increasing order array<a class="headerlink" href="#k-roteated-increasing-order-array" title="Permalink to this headline">¶</a></h3>
<p>&#8211; A &#8211; left &#8211; B &#8211; mid &#8211; C &#8211; right &#8211; D &#8211;</p>
<p>本来 left &lt;= mid &lt;= rightが成立する
ただし、lotateしているため、その開始位置がmidの右か左か特定する必要がある。</p>
<p>a[left] &lt; a[mid]のときは、左側が順番に並んでいるので、Cに開始位置がある.
leftとmidの間にtargetがあるか、ないかで区間を狭めることができる。</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="kt">int</span> <span class="nf">search</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">target</span> <span class="o">&amp;&amp;</span> <span class="n">target</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="p">[</span><span class="n">right</span><span class="p">])</span>
        <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">target</span> <span class="o">&amp;&amp;</span> <span class="n">target</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">A</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="cm">/* TEST-DATA */</span><span class="p">};</span>
  <span class="kt">int</span> <span class="n">arr_size</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d, &quot;</span><span class="p">,</span> <span class="n">search</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">arr_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">));</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>TEST-DATA = 0, 1, 2, 3, 4, 5, 6, 7, 8, 9</p>
<div class="highlight-sh"><div class="highlight"><pre>0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
</pre></div>
</div>
<p>TEST-DATA = 1, 2, 3, 4, 5, 6, 7, 8, 9, 0</p>
<div class="highlight-sh"><div class="highlight"><pre>9, 0, 1, 2, 3, 4, 5, 6, 7, 8,
</pre></div>
</div>
<p>TEST-DATA = 2, 3, 4, 5, 6, 7, 8, 9, 0, 1</p>
<div class="highlight-sh"><div class="highlight"><pre>8, 9, 0, 1, 2, 3, 4, 5, 6, 7,
</pre></div>
</div>
<p>TEST-DATA = 2,2,2,2,2,2,2,3,2,2
linerでなくても求まる!</p>
<div class="highlight-sh"><div class="highlight"><pre>-1, -1, 4, 7, -1, -1, -1, -1, -1, -1,
</pre></div>
</div>
</div>
</div>
<div class="section" id="zero-scm">
<h2><a class="toc-backref" href="#id8">zero.scm</a><a class="headerlink" href="#zero-scm" title="Permalink to this headline">¶</a></h2>
<p>interspersedWithZero (0が途中に混ざった場合のbinary search)
CI 9.5</p>
<ul class="simple">
<li>終了条件low&lt;=high</li>
<li>更新mid+1,mid-1</li>
</ul>
<p>の場合の探索は
区間[low, high]となるため、
0を無視するようmidを移動する。
lowは探索ずみなので、low&lt;midの条件入れておく</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;myutils.h&gt;</span>
<span class="kt">int</span> <span class="nf">find</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">lo</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hi</span><span class="o">=</span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">lo</span><span class="o">&lt;=</span><span class="n">hi</span><span class="p">){</span>
   <span class="kt">int</span> <span class="n">mi</span><span class="o">=</span><span class="p">(</span><span class="n">lo</span><span class="o">+</span><span class="n">hi</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
   <span class="k">while</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mi</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">lo</span> <span class="o">&lt;</span> <span class="n">mi</span><span class="p">)</span> <span class="n">mi</span><span class="o">--</span><span class="p">;</span>  <span class="c1">// ADD</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mi</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="k">return</span> <span class="n">mi</span><span class="p">;</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mi</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="n">lo</span><span class="o">=</span><span class="n">mi</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
   <span class="k">else</span> <span class="n">hi</span><span class="o">=</span><span class="n">mi</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="c1">//      0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27</span>
    <span class="n">P</span><span class="p">(</span><span class="n">find</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">i</span><span class="p">));</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 0
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 1
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 4
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 6
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 14
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 19
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 20
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 22
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 25
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> 26
find<span class="o">({</span>0, 1, 0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5, 6, 0, 7, 0, 0, 8, 9, 0<span class="o">}</span>, i<span class="o">)</span> <span class="o">=</span> -1
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">

  
  

  <div class="container">
    
    <p>
        &copy; Copyright 2015, Hiroyuki Ishii.<br/>
    </p>
  </div>
</footer>

  </body>
</html>